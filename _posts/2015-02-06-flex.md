---
title: "flex"
description: ""
category: "css"
tags: []
---

布局神器flex, 本文将尽量详细的介绍这一个布局方法.

**注: 不同的浏览器对这一布局方式的支持所采用的语法并不一致, 我们可以用`grunt`或者`gulp`的`autoprefixer`插件来帮助我们完成浏览器的兼容性写法。**

**本文暂不作兼容性处理, 请使用最新Chrome进行阅读**

## Flex Container相关属性

这种布局方式需要父级元素和子级元素共同配合, 首先我们需要把父级的display设为flex。

{% highlight css %}
.flex-container {
  display: flex;
}
{% endhighlight %}


### 方向与换行

#### 布局方向
正常的布局方向是由左及右的, 我们可以通过设置`flex-direction`为还控制布局方向.
row是正常的左右向, column为上下向. `-reverse`指各自方向上的反向.

{% highlight css %}
.flex-container {
  flex-direction: row[-reverse] | column[-reserve]
}
{% endhighlight %}

#### 是否换行
当我们使用flex布局的时候, 默认是不换行的, 如果我们希望他换行, 那么我们就需要设置`flex-wrap`属性值为`wrap`. 注意这边还有wrap-reserve, 指的是文章的方向是由下至上的, 而不是常规的由上至下.

{% highlight css %}
.flex-container {
  flex-wrap: nowrap(default) | wrap[-reserve]
}
{% endhighlight %}

#### 简写形式
我们可以用`flex-flow`来同时表示`flex-direction`和`flex-wrap`第一个属性指的是`flex-direction`, 第二属性表示`flex-wrap`

{% highlight css %}
flex-flow: <'flex-direction'> || <'flex-wrap'>
{% endhighlight %}

#### 示例

<iframe width="100%" height="260" src="/embed/flex/flex-flow.html" frameborder="0" allowfullscreen></iframe>


### 对齐方法

#### 水平对齐
我们用`justify-content`来指定flex-item在主坐标轴方向(main axis)的对齐方式.
这个属性类似于我们平时用的`text-align`. 不过需要注意的是, 当`flex-direction`为`row-reverse`时, `justify-content: flex-end`实际为左对齐(因内容方向由右及左, end方向在左边---命名果然很科学!)
`space-around`和`space-between`的区别在于空白均匀是否包含边界。

{% highlight css %}
.flex-container {
  justify-content: flex-start(default) | flex-end | center | space-between | space-around
}
{% endhighlight %}

##### 水平对齐示例
<iframe width="100%" height="400" src="/embed/flex/flex-justify.html" frameborder="0" allowfullscreen></iframe>

#### 单行垂直对齐
`align-items`表示单行情况下垂直方向(cross axis)的对齐方式, 默认情况下是`stretch`, 即充满整个父级的高度. 无对齐一言, 多行时起作用为`align-content`(默认: space-between)。

{% highlight css %}
.flex-container {
  align-items: flex-start | flex-end | center | baseline | stretch(default);
}
{% endhighlight %}

##### 单行垂直对齐示例
<iframe width="100%" height="230" src="/embed/flex/flex-align-items.html" frameborder="0" allowfullscreen></iframe>

#### 多行垂直对齐
`align-content`多行情况下内容的垂直(cross axis)对齐方式, 当内容只有当行时起作用的是`align-items`,可以把它当成垂直方向的`justify-content`。

{% highlight css %}
.flex-container {
  align-content: flex-start | flex-end | center | space-between(default) | space-around
}
{% endhighlight %}

<iframe width="100%" height="280" src="/embed/flex/flex-align-content.html" frameborder="0" allowfullscreen></iframe>

## Flex Item的相关属性

### 顺序
`order`, 可以理解成`z-index`可为负值

{% highlight css %}
.flex-item {
  order: 1
}
{% endhighlight %}

#### order示例
此时flex-item中html的书写顺序, 不影响显示的顺序
<iframe width="100%" height="130" src="/embed/flex/flex-order.html" frameborder="0" allowfullscreen></iframe>

### flex item

#### flex-basis
`flex-basis`指定flex item的初始宽度, 缺省情况下是0, auto表示取决于内容.
比如当我们设置`flex-basis`为10px, 此时如果父级的空间足够, 那么flex item的宽度即为10px.
不够则按照flex item个数进行均分。 `flex-basis`支持百分比写法, 相较于父级元素, 100%为等同于父级元素宽度.

{% highlight css %}
.flex-item {
  flex-basis: <length> | auto;
}
{% endhighlight %}

#### flex-grow
当`flex-basis`足够分配, 父元素将有一部分多余的正空间, 那么这部分多余空间在分配时, `flex-grow`为2的元素将比`flex-grow`为1的元素的多得到两倍的空间, 假如设置`flex-basis`不足分配, 则按照flex item个数进行均分。

#### flex-shrink
`flex-shrink`的默认值为1, 它只有在设置`flex-basis`不足分配时才有作用. 在分配这些负的空间时
`flex-shrink`为2的元素将比`flex-shrink`为1的元素的分配两倍的负空间。

#### 简写

{% highlight css %}
.flex-item {
  flex: none | <'flex-grow'> <'flex-shrink'>? || <'flex-basis'>
}
{% endhighlight %}

#### flex item示例

<iframe width="100%" height="160" src="/embed/flex/flex-item.html" frameborder="0" allowfullscreen></iframe>


### 独自的对齐方式
`align-self` 独自的对齐方式, 相较于父级的align-items而言. 如果发生换行, 将在其所在的那一行起作用.

{% highlight css %}
.flex-item {
  align-self: auto | flex-start | flex-end | center | baseline | stretch
}
{% endhighlight %}

#### 独自对齐示例
<iframe width="100%" height="170" src="/embed/flex/flex-align-self.html" frameborder="0" allowfullscreen></iframe>


参考文档:

[1] https://css-tricks.com/snippets/css/a-guide-to-flexbox/

[2] https://css-tricks.com/almanac/properties/f/flex-grow/

[3] https://css-tricks.com/almanac/properties/f/flex-shrink/
